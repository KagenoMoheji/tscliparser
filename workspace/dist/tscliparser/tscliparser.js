(()=>{"use strict";var r,t,e={791:function(r,t){var e,a=this&&this.__extends||(e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])})(r,t)},function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)});Object.defineProperty(t,"__esModule",{value:!0}),t.CliParserArgError=t.CliParserConstructorError=void 0;var o=function(r){function t(t){var e=this.constructor,a=r.call(this,t)||this;return a.name=e.name,a}return a(t,r),t}(Error);t.CliParserConstructorError=o;var s=function(r){function t(t){var e=this.constructor,a=r.call(this,t)||this;return a.name=e.name,a}return a(t,r),t}(Error);t.CliParserArgError=s},970:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCommonOption=t.isHelpOption=t.isValueAdvanced=t.isOptionAdvanced=void 0,t.isOptionAdvanced=function(r){return null!==r&&"object"==typeof r&&"string"==typeof r.short},t.isValueAdvanced=function(r){return null!==r&&"object"==typeof r&&"number"==typeof r.location},t.isHelpOption=function(r){return null!==r&&"object"==typeof r&&"string"==typeof r.usage},t.isCommonOption=function(r){return null!==r&&"object"==typeof r&&(t.isOptionAdvanced(r.advanced)||t.isValueAdvanced(r.advanced))}}},a={};function o(r){var t=a[r];if(void 0!==t)return t.exports;var s=a[r]={exports:{}};return e[r].call(s.exports,s,s.exports,o),s.exports}r=o(970),t=o(791),function(){function e(r){this.params=r;try{if(""===r.help.usage)throw new t.CliParserConstructorError("CliParser cannot permit strictly to use this CLI because of invalid in constructor argument 'usage'.");if(Object.keys(r).length!==new Set(Object.keys(r)).size)throw new t.CliParserConstructorError("Found duplicated long argument names.");if(this.getShortArgNames().length!==new Set(this.getShortArgNames()).size)throw new t.CliParserConstructorError("Found duplicated short argument names.")}catch(r){console.error(r.name+": "+r.message),process.exit(1)}}e.prototype.getParams=function(){return this.params},e.prototype.getArgNames=function(){return Object.keys(this.params)},e.prototype.getShortArgNames=function(){for(var t=[],e=0,a=this.getArgNames();e<a.length;e++){var o=a[e];if(r.isOptionAdvanced(this.params[o].advanced)){var s=this.params[o].advanced.short;""!==s&&t.push(s)}}return t},e.prototype.getArgNameFromShortArgName=function(t){for(var e=0,a=this.getArgNames();e<a.length;e++){var o=a[e];if(r.isOptionAdvanced(this.params[o].advanced)&&t===this.params[o].advanced.short)return[o,""]}return["","Not found argument from short argument '"+t+"'."]},e.prototype.getHelp=function(){var r="";return""!==this.params.help.description&&(r=this.params.help.description+"\n"),""+r+this.params.help.usage},e.prototype.updateValueData=function(t,e){for(var a=0,o=this.getArgNames();a<o.length;a++){var s=o[a];if(r.isValueAdvanced(this.params[s].advanced)&&t===this.params[s].advanced.location)return this.updateParamData(s,e),[s,""]}return["","Location '"+t+"' is out of argument values."]},e.prototype.updateParamData=function(r,e){try{switch(typeof this.params[r].data){case"string":if(e.startsWith("-"))throw new t.CliParserArgError("Detected danger in consecutive arguments '"+r+"' and '"+e+"'. If you want set strings start with '-', you should enclose the string with quotes(single or double).");if(/('.*'|".*")/.test(e)){var a=e.match(/(?<=('|")).*?(?=('|"))/);a&&(e=a[0])}this.params[r].data=e;break;case"boolean":this.params[r].data=!this.params[r].data;break;case"number":if(isNaN(Number(e)))throw new TypeError;this.params[r].data=Number(e);break;default:throw new TypeError}}catch(t){t instanceof TypeError?console.error(t.name+": Invalid type in argument '"+r+"'(expected "+typeof this.params[r].data+", but "+typeof e+")."):console.error(t.name+": "+t.message),process.exit(1)}return""},e.prototype.getInitialIsUpdatedRequreds=function(){for(var t={},e=0,a=this.getArgNames();e<a.length;e++){var o=a[e];r.isHelpOption(this.params[o])||this.params[o].advanced.required&&(t[o]=!1)}return t},e.prototype.parse=function(e){var a=this.getArgNames(),o=this.getInitialIsUpdatedRequreds(),s=1;try{for(var n=2;n<e.length;n++){var i=e[n],u="";if(i.startsWith("--")){if(u=i.slice(2),!a.includes(u))throw new t.CliParserArgError("CliParser cannot find argument '"+u+"'.")}else if(i.startsWith("-")){var c=this.getArgNameFromShortArgName(i.slice(1)),p=c[0],l=c[1];if(u=p,""!==l)throw new t.CliParserArgError(l)}if(r.isHelpOption(this.params[u]))"help"===u&&(console.log(this.getHelp()),process.exit(0));else{if(""!==u)"boolean"!=typeof this.params[u].data?this.updateParamData(u,e[++n]):this.updateParamData(u,"");else{var h=this.updateValueData(s++,i);if(p=h[0],l=h[1],u=p,""!==l)throw new t.CliParserArgError(l)}r.isHelpOption(this.params[u])||this.params[u].advanced.required&&(o[u]=!0)}}var d=Object.keys(o).filter((function(r){return!o[r]}));if(d.length>0)throw new t.CliParserArgError("CliParser cannot find required arguments.("+d.map((function(r){return"'"+r+"'"})).join(", ")+")");this.params.test.data&&(process.stdout.write("c"),console.log(this.params),process.exit(0))}catch(r){console.error(r.name+": "+r.message),process.exit(1)}return this}}()})();